# Updated 8/27/2024
# Gary Larson

#######################################################################
##################### Copy file and rename to .env ####################
#######################################################################

# NextAuth
AUTH_SECRET= # use `openssl rand -base64 32` to generate (not sure if we need this variable anymore)

# OAuth (see readme.md)
AUTH_GITHUB_ID=
AUTH_GITHUB_SECRET=

#email stuff (Resend)
EMAIL_SENDER=no-reply@mail.watechcoalition.org
EMAIL_RESEND_API_KEY=

# Azure Services - AI (resume parsing)
AZURE_OPENAI_ENDPOINT=https://<your-aoai-resource>.openai.azure.com/
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_API_VERSION="2025-01-01-preview"
AZURE_OPENAI_DEPLOYMENT_NAME=chat-gpt41mini

# Azure Services - Embeddings
AZURE_OPENAI_EMBEDDING_ENDPOINT=https://<your-aoai-resource>.openai.azure.com/
AZURE_OPENAI_EMBEDDING_API_KEY=
AZURE_OPENAI_EMBEDDING_API_VERSION="2024-02-01"
AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME=embeddings-te3small

# N8N keys
N8N_JOBSEEKER_CHAT_BOT=

# Azure Services - Blob Storage
AZURE_STORAGE_CONNECTION_STRING=
# SAS Token Generation
AZURE_STORAGE_ACCOUNT_KEY=
AZURE_STORAGE_NAME=

# Connection String for MSSQL (Prisma requires sqlserver:// format)
# Format: sqlserver://HOST:PORT;database=DB;user=USER;password=PASSWORD;encrypt=false;trustServerCertificate=true
# If password contains ; = [ ] { } # : / \ then wrap it in braces: password={YourPass!word}
# Example for Docker SQL Server:
# DATABASE_URL="sqlserver://localhost:1433;database=talent_finder;user=sa;password=YourComplex!P4ssw0rd;encrypt=false;trustServerCertificate=true"
DATABASE_URL=

# AI Workforce Contacts - Logic Apps Endpoint for Sharepoint Lists
AI_DEV_ENDPOINT=https://your-logic-app-endpoint-url
# Career Prep (Deprecated but still active)
CP_APPLICATION_ENDPOINT=https://your-career-prep-endpoint

# Azure DB with mock data (mssql:// is for other drivers; Prisma uses DATABASE_URL with sqlserver://)
AZURE_DB_CONNECTION_STRING=mssql://cfa:superPass123@cfa-test.database.windows.net:1433/Test

# =============================================================================
# Agent Pipeline (Python) — Job Intelligence Engine
# =============================================================================
LLM_PROVIDER=azure_openai                # azure_openai | openai | anthropic
LANGSMITH_API_KEY=
LANGCHAIN_TRACING_V2=true

# Ingestion
JSEARCH_API_KEY=
# Comma-separated job board URLs; leave empty to use defaults (OpenAI + Anthropic careers)
SCRAPING_TARGETS=
INGESTION_SCHEDULE=0 2 * * *            # Cron — default: daily at 2am

# Pipeline thresholds
SPAM_FLAG_THRESHOLD=0.7                  # Flag for operator review above this
SPAM_REJECT_THRESHOLD=0.9               # Auto-reject above this
SKILL_CONFIDENCE_THRESHOLD=0.75
BATCH_SIZE=100
